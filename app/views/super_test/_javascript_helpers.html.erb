<% if Rails.env.test? %>
  <script text="text/javascript">
    $(function() {
      console.log("✅ Super Test activated in the browser!")
      window.testingOutput = [];

      // record clicks.
      $(document).on('click', '*', function(event) {
        // TODO this doesn't do a good enough job of isolating the click event we're responding to the specific button.
        // this duplication happens because all of the elements that were clicked on fire this event. we only need one.
        // not totally sure what to do about this.
        if (event.target == event.currentTarget) {
          console.log("✅ Recorded click.")
          // TODO what if they clicked on a field? we should find the label for that field and use that as the thing to click on.
          window.testingOutput.push("click_on '" + $(event.target).text() + "'");
        }
      });

      // TODO add some sort of detection of when the text in a field changes.
    });
  </script>
<% end %>
